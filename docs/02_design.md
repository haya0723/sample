# TODOアプリ 設計フェーズ

## 1. UI/UXデザイン

-   **基本方針**:
    -   シンプルでクリーンなデザインを目指す。
    -   ユーザーが必要な情報に素早くアクセスでき、直感的に操作できることを重視する。
-   **画面構成（案）**:
    -   **メイン画面**:
        -   ヘッダー: アプリケーションタイトル
        -   タスク入力エリア: テキスト入力フィールド、追加ボタン
        -   タスク一覧表示エリア:
            -   各タスク: チェックボックス（完了/未完了）、タスク名、編集ボタン、削除ボタン
            -   （追加機能）優先度表示、期限表示
        -   フッター（オプション）:
            -   フィルタリングオプション（すべて、未完了、完了済み）
            -   タスク数表示
-   **ワイヤーフレーム/モックアップ**:
    -   別途作成し、デザインツール（Figmaなど）で共有することを検討する。
    -   まずはテキストベースで上記画面構成案を具体化する。

## 2. 技術選定

-   **フロントエンド**:
    -   **ライブラリ/フレームワーク**: React (Vite環境) - 要件定義で決定済み。
    -   **言語**: JavaScript (ES6+) もしくは TypeScript (導入を推奨)。
-   **状態管理**:
    -   小規模なアプリケーションであるため、React Context API と `useReducer`フックの組み合わせを第一候補とする。
    -   状態が複雑化するようであれば、Zustandなどの軽量な状態管理ライブラリの導入を検討する。
-   **スタイリング**:
    -   CSS Modules を利用し、コンポーネント単位でのスタイルのカプセル化を図る。
    -   基本的なスタイルは素のCSSで記述し、必要に応じてCSSフレームワーク（例: Tailwind CSSのユーティリティクラスを部分的に利用など）の導入も検討するが、まずはシンプルに保つ。
-   **データ永続化**:
    -   要件定義に基づき、クライアントサイドの `localStorage` を利用する。
-   **その他ライブラリ**:
    -   日付操作: `date-fns` や `dayjs` （期限設定機能実装時に検討）
    -   ID生成: `uuid` （タスクID生成に利用）
    -   アイコン: React Icons などのライブラリを利用するか、SVGを直接利用する。

## 3. システムアーキテクチャ設計

-   **基本方針**:
    -   Reactのコンポーネントベースのアーキテクチャに従う。
    -   関心の分離を意識し、UIコンポーネント、状態管理ロジック、ユーティリティ関数などを適切に分割する。
-   **ディレクトリ構成（案）**:
    ```
    src/
    ├── App.jsx             # アプリケーションのルートコンポーネント
    ├── main.jsx            # エントリーポイント
    ├── components/         # 再利用可能なUIコンポーネント
    │   ├── TodoForm.jsx    # タスク入力フォーム
    │   ├── TodoList.jsx    # タスク一覧
    │   ├── TodoItem.jsx    # 個々のタスクアイテム
    │   └── Filter.jsx      # フィルタリングUI (追加機能)
    ├── contexts/           # React Context (状態管理用)
    │   └── TodoContext.jsx
    ├── hooks/              # カスタムフック
    │   └── useLocalStorage.js # ローカルストレージ操作用フック
    ├── utils/              # ユーティリティ関数
    │   └── index.js
    ├── styles/             # グローバルスタイル、共通スタイル変数など
    │   └── App.css
    │   └── index.css
    └── assets/             # 静的アセット (画像など)
    ```
-   **データフロー**:
    -   ユーザー操作 (タスク追加、編集、削除、完了状態変更など) は各UIコンポーネントから発生する。
    -   イベントハンドラが `TodoContext` から提供される更新関数を呼び出す。
    -   `TodoContext` 内の `reducer` が状態を更新する。
    -   状態の変更が `TodoContext` を購読しているコンポーネントに伝播し、UIが再レンダリングされる。
    -   `localStorage` への保存・読み込みは `useLocalStorage` フックを通じて行い、`TodoContext` の初期化時や状態更新時に同期する。
